

如果时间紧张，可以先完成：
1. ✅ 菜单项添加（已完成）
2. PO 详情页地址信息重构
3. 添加一条工厂直发 Mock 数据
4. 在列表页显示 PO 类型

完整的创建页面可以后续迭代开发。

## 需要的图标

确保导入以下 Lucide 图标：
```typescript
import { 
  Building, MapPin, Package, Warehouse, Truck, 
  ArrowRight, AlertCircle 
} from "lucide-react"
```

## 测试检查清单

- [ ] 菜单项显示正常
- [ ] 点击菜单项跳转正确（即使页面未创建，路由应该正确）
- [ ] PO 详情页地址信息卡片布局正确
- [ ] 物流条款卡片显示正常
- [ ] Mock 数据中的工厂直发PO显示正确
- [ ] 列表页 PO 类型列显示正确
- [ ] 深色模式下样式正常
- [ ] 响应式布局正常

---

**下一步行动**：
建议先完成 PO 详情页的地址信息优化，这个改动最直接且影响最大。
bg-purple-900/20 text-purple-700 dark:text-purple-300 text-xs">
            工厂直发
          </Badge>
          {config && (
            <span className="text-xs text-muted-foreground">
              {config.viaFinishedGoodsWarehouse ? "经成品库" : "直接发货"}
            </span>
          )}
        </div>
      )
    }
    return <span className="text-sm text-muted-foreground">标准</span>
  }
}
```

## 实现优先级

1. **高优先级** - PO 详情页地址信息优化（立即可做）
2. **中优先级** - 添加 PO 类型列和 Mock 数据
3. **低优先级** - 完整的工厂直发创建页面（需要更多时间）

## 快速实现建议inationName: "客户A",
    finalDestinationAddress: "北京市朝阳区",
  },
  
  latestShipmentDate: "2024-02-01T18:00:00Z",
  freightTerms: "FOB",
}
```

### 6. 在列表页添加 PO 类型列

在 `allColumns` 数组中添加：

```typescript
{
  id: "poType",
  header: "PO类型",
  width: "150px",
  defaultVisible: true,
  cell: (row) => {
    if (row.poType === "FACTORY_DIRECT") {
      const config = row.factoryDirectConfig
      return (
        <div className="flex flex-col gap-1">
          <Badge variant="outline" className="bg-purple-50 dark:hippingService: "Express",
  shippingCarrier: "SF Express",
  shippingNotes: "Factory direct shipment",
  itemCount: 5,
  exceptions: [],
  sentToSupplier: false,
  
  // 工厂直发专用字段
  poType: "FACTORY_DIRECT",
  factoryDirectConfig: {
    viaFinishedGoodsWarehouse: true,
    factoryId: "FAC001",
    factoryName: "深圳工厂",
    factoryAddress: "深圳市宝安区",
    finishedGoodsWarehouseId: "FG001",
    finishedGoodsWarehouseName: "深圳成品库",
    finalDestinationId: "CUS001",
    finalDestinationType: "CUSTOMER",
    finalDesterName: "深圳工厂",
  supplierNo: "FAC001",
  destination: "北京客户A",
  warehouseName: "N/A",
  status: POStatus.NEW,
  shippingStatus: null,
  receivingStatus: null,
  dataSource: "MANUAL",
  totalOrderQty: 1000,
  shippedQty: 0,
  receivedQty: 0,
  totalPrice: 50000.00,
  currency: "CNY",
  asnCount: 0,
  created: "2024-01-23T10:00:00Z",
  updated: "2024-01-23T10:00:00Z",
  expectedArrivalDate: "2024-02-05T14:00:00Z",
  purchaseOrderDate: "2024-01-23",
  toCity: "Beijing",
  toState: "BJ",
  toCountry: "China",
  sehouseId?: string
    finishedGoodsWarehouseName?: string
    finalDestinationId: string
    finalDestinationType: "CUSTOMER" | "STORE" | "WAREHOUSE"
    finalDestinationName: string
    finalDestinationAddress: string
  }
  
  // 物流条款字段
  latestShipmentDate?: string
  freightTerms?: string  // 运费条款：FOB, CIF, EXW等
}
```

### 5. 添加 Mock 数据示例

在 `mockPOs` 数组中添加一个工厂直发PO示例：

```typescript
{
  id: "9",
  orderNo: "PO202403150009",
  originalPoNo: "FD-PO-2024-001",
  prNos: [],
  referenceNo: "REF202403150009",
  supplioodsWarehouse: boolean
    factoryId: string
    factoryName: string
    factoryAddress: string
    finishedGoodsWar="font-medium">{freightTerms}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">贸易条款:</span>
        <span className="font-medium">{deliveryTerms}</span>
      </div>
    </div>
  </CardContent>
</Card>
```

### 4. 更新数据模型

**文件**: `app/purchase/po/page.tsx` (PurchaseOrder interface)

```typescript
interface PurchaseOrder {
  // ... 现有字段
  
  // 新增字段
  poType?: "STANDARD" | "FACTORY_DIRECT"
  
  // 工厂直发配置
  factoryDirectConfig?: {
    viaFinishedGext-muted-foreground">运费条款:</span>
        <span className    <span className="font-medium">{expectedArrivalDate}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">最晚发运时间:</span>
        <span className="font-medium">{latestShipmentDate}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">运输方式:</span>
        <span className="font-medium">{shippingService}</span>
      </div>
      <div className="flex justify-between">
        <span className="tssName="text-muted-foreground">交货期日:</span>
    fy-between">
        <span className="text-muted-foreground">仓库编号:</span>
        <span className="font-medium">{warehouseCode}</span>
      </div>
    </div>
  </CardContent>
</Card>
```

#### 3.4 物流条款卡片（新增）
```typescript
<Card>
  <CardContent className="pt-6 space-y-3">
    <div className="flex items-center gap-2 text-sm font-medium mb-3">
      <Truck className="h-4 w-4 text-primary" />
      物流条款
    </div>
    <div className="space-y-2 text-xs">
      <div className="flex justify-between">
        <span claforeground">收货地址:</span>
        <span className="font-medium">{warehouseAddress}</span>
      </div>
      <div className="flex justiation）
```typescript
<Card>
  <CardContent className="pt-6 space-y-3">
    <div className="flex items-center gap-2 text-sm font-medium mb-3">
      <Package className="h-4 w-4 text-primary" />
      收货地址
    </div>
    <div className="space-y-2 text-xs">
      <div className="flex justify-between">
        <span className="text-muted-foreground">收货仓库:</span>
        <span className="font-medium">{warehouseName}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-pan>
        <span className="font-medium">{supplierAddress}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">联系人:</span>
        <span className="font-medium">{contactPerson}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">联系电话:</span>
        <span className="font-medium">{contactPhone}</span>
      </div>
    </div>
  </CardContent>
</Card>
```

#### 3.3 收货地址卡片（原 Delivery Inform>
        <span className="text-muted-foreground">发货地址:</s
```

#### 3.2 发货地址卡片（原 Supplier Information）
```typescript
<Card>
  <CardContent className="pt-6 space-y-3">
    <div className="flex items-center gap-2 text-sm font-medium mb-3">
      <MapPin className="h-4 w-4 text-primary" />
      发货地址
    </div>
    <div className="space-y-2 text-xs">
      <div className="flex justify-between">
        <span className="text-muted-foreground">发货方:</span>
        <span className="font-medium">{supplierName}</span>
      </div>
      <div className="flex justify-between"   </div>
  </CardContent>
</Card>>
      </div>
      {/* ... 其他基本信息 */}
 um">{supplierCode}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">联系人:</span>
        <span className="font-medium">{contactPerson}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">联系电话:</span>
        <span className="font-medium">{contactPhone}</span>
      <div className="flex justify-between">
        <span className="text-muted-foreground">PO编号:</span>
        <span className="font-medium">{orderNo}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">供应商:</span>
        <span className="font-medium">{supplierName}</span>
      </div>
      <div className="flex justify-between">
        <span className="text-muted-foreground">供应商编号:</span>
        <span className="font-medi`
- 页面标题和返回按钮
- 基本信息卡片（PO编号、供应商、采购日期等）
- 物流路径配置卡片（使用 FactoryDirectShippingConfig 组件）
- 商品明细表格
- 保存和提交按钮
```

### 3. 优化 PO 详情页地址信息

**文件**: `app/po-detail-v2/page.tsx`

**需要修改的部分**:

#### 3.1 基本信息卡片 - 添加供应商信息
```typescript
<Card>
  <CardContent className="pt-6 space-y-3">
    <div className="flex items-center gap-2 text-sm font-medium mb-3">
      <FileText className="h-4 w-4 text-primary" />
      基本信息
    </div>
    <div className="space-y-2 text-xs"作

### 1. 创建物流路径配置组件

**文件**: `components/purchase/factory-direct-shipping-config.tsx`

**关键代码**已准备好，需要手动创建文件并粘贴以下内容：

```typescript
// 见产品需求文档/工厂直发PO需求文档.md 中的组件设计部分
// 组件包含：
// - 工厂选择下拉框
// - 物流路径单选（经成品库 vs 直接发货）
// - 成品库选择（条件显示）
// - 目的地类型和目的地选择
// - 流程预览
```

### 2. 创建工厂直发PO创建页面

**文件**: `app/purchase/po/create/factory-direct/page.tsx`

**页面结构**:
``# 工厂直发功能实现指南

## 已完成的工作

✅ 在 PO 列表页添加了"工厂直发PO"菜单项

## 待完成的工